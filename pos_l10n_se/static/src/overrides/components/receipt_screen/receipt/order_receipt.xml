<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="pos_l10n_se.OrderReceipt" t-inherit="point_of_sale.OrderReceipt" t-inherit-mode="extension">
        <xpath expr="//div[hasclass('pos-receipt-contact')]" position="inside">
            <t t-if="receiptData.receipt.useBlackBoxSweden">
                <br/>
                <div>
                    <span style="font-size: 200%">
                        <t t-if="receiptData.order.isReprint">Copy</t>
                        <t t-elif="receiptData.order.isProfo">PRO FORMA</t>
                        <t t-else="">
                            <t t-if="receiptData.order.get_total_with_tax() lt 0">Return</t>
                            Receipt
                        </t>
                    </span>
                </div>
                <t t-if="receiptData.order.isReprint">
                    Original date:
                    <t t-esc="receiptData.receipt.originalOrderDate"/>
                </t>
                <div>
                    <span>Sequence: </span>
                    <t t-esc="receiptData.receipt.orderSequence"/>
                </div>
            </t>
        </xpath>

        <xpath expr="//div[hasclass('pos-receipt-order-data')]" position="inside">
            <t t-if="receiptData.receipt.useBlackBoxSweden">
                <br/>
                <div>
                    <span>POS id: </span>
                    <t t-esc="receiptData.receipt.posID"/>
                </div>
                <div>
                    <span>Blackbox unit id: </span>
                    <t t-esc="receiptData.receipt.unitID"/>
                </div>
                <div style="word-wrap:break-word;">
                    <span>Blackbox Signature: </span>
                    <t t-esc="receiptData.receipt.blackboxSignature"/>
                </div>
            </t>
        </xpath>

        <xpath expr="//div[hasclass('orderlines')]" position="attributes">
            <attribute name="t-if">!receiptData.receipt.useBlackBoxSweden</attribute>
        </xpath>

        <xpath expr="//div[hasclass('orderlines')]" position="after">
            <div class="orderlines" t-if="receiptData.receipt.useBlackBoxSweden">
                <t t-set="all_lines" t-value="receiptData.receipt.orderlines"/>
                <span class="pos-receipt-left-padding">Products:</span><br/>
                <t t-set="receiptData.receipt.orderlines" t-value="receiptData.productLines"/>
                <t t-call="point_of_sale.OrderLinesReceipt"/>

                <br/><span class="pos-receipt-left-padding">Services:</span><br/>
                <t t-set="receiptData.receipt.orderlines" t-value="all_lines"/>
                <t t-set="receiptData.receipt.orderlines" t-value="receiptData.serviceLines"/>
                <t t-call="point_of_sale.OrderLinesReceipt"/>
                <t t-set="receiptData.receipt.orderlines" t-value="all_lines"/>
            </div>
        </xpath>
    </t>
</templates>
