<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Sources
        https://www.ato.gov.au/
        https://oac.chris21.com/OAC_ichrisp/Help/ichrisUG/646250.htm
    -->
    <!-- Schedule 15 - Tax table for working holiday makers -->
    <record id="l10n_au_withholding_whm_structure_15" model="hr.salary.rule">
        <field name="category_id" ref="l10n_au_hr_payroll.rule_category_withholding"/>
        <field name="name">PAYG Withholding</field>
        <field name="code">WITHHOLD</field>
        <field name="sequence">100</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
rates = payslip._rule_parameter("l10n_au_whm")
prev_rate = [0, 0, 0, 0]
for idx, rate in enumerate(rates):
    if rate[1] == 'inf' or categories['GROSS'] &lt;= rate[1]:
        if idx &gt; 0:
            prev_rate = rates[idx - 1]
        break
result = prev_rate[2] + (floor(categories['GROSS']) - rate[0]) * (rate[3] / 100)
result = -round(result)
        </field>
        <field name="struct_id" ref="l10n_au_hr_payroll.hr_payroll_structure_au_whm"/>
    </record>
</odoo>
